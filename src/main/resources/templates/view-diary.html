<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ë‹¤ì´ì–´ë¦¬ ê²°ê³¼</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/mobile-frame.css" rel="stylesheet">
    <style>
        .message-box, .answer-box, .ai-box {
            padding: 15px;
            border-radius: 15px;
            margin-top: 10px;
            word-wrap: break-word;
            white-space: pre-wrap;
            width: 100%;
        }
        .message-box {
            background-color: #1abc9c; /* ì´ˆë¡ìƒ‰ */
            color: white;
        }
        .answer-box {
            background-color: #f0f0f0; /* ì—°í•œ íšŒìƒ‰ */
        }
        .ai-box {
            background-color: #e0ffe0; /* ì—°í•œ ì´ˆë¡ìƒ‰ */
        }
        .btn-main {
            background-color: #1abc9c;
            border-color: #1abc9c;
            color: white;
            width: 100%;
        }
        .btn-main:hover {
            background-color: #16a085;
            border-color: #16a085;
        }
        .btn-delete {
            background-color: #e74c3c; /* ë¹¨ê°„ìƒ‰ */
            border-color: #e74c3c;
            color: white;
            width: 100%;
        }
        .btn-delete:hover {
            background-color: #c0392b;
            border-color: #c0392b;
        }
        .bottom-container {
            position: absolute;  /* fixedì—ì„œ absoluteë¡œ ë³€ê²½ */
            bottom: 0;           /* ë·°ì˜ ì•„ë˜ìª½ì— ê³ ì • */
            left: 0;
            width: 100%;         /* ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì •í•˜ì—¬ ë¶€ëª¨ ì»¨í…Œì´ë„ˆë¥¼ ì±„ì›€ */
            padding: 15px;       /* íŒ¨ë”© ì¶”ê°€ */
        }

        .section-title {
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<div class="mobile-frame">
    <div class="mobile-content">
        <!-- ë‚ ì§œ ì •ë³´ í‘œì‹œ -->
        <div class="container mt-3">
            <div class="row">
                <div class="col-12 text-center">
                    <h4 th:text="'ğŸ—“ï¸ ' + ${diaryResponse.year} + 'ë…„ ' + ${diaryResponse.month} + 'ì›” ' + ${diaryResponse.day} + 'ì¼ '"></h4>
                </div>
            </div>

            <!-- ì§ˆë¬¸ ë‚´ìš© í‘œì‹œ -->
            <div class="row">
                <div class="col-12">
                    <div class="section-title">ì§ˆë¬¸</div>
                    <div class="message-box" th:text="${diaryResponse.question}"></div>
                </div>
            </div>

            <!-- ì‚¬ìš©ì ë‹µë³€ ë‚´ìš© í‘œì‹œ -->
            <div class="row">
                <div class="col-12">
                    <div class="section-title">ì‚¬ìš©ì ë‹µë³€</div>
                    <div class="answer-box" th:text="${diaryResponse.content}"></div>
                </div>
            </div>

            <!-- AI ë‹µë³€ ë‚´ìš© í‘œì‹œ -->
            <div class="row">
                <div class="col-12">
                    <div class="section-title">AI ë‹µë³€</div>
                    <div class="ai-box" th:text="${diaryResponse.answer}"></div>
                </div>
            </div>

            <!-- ì‚­ì œ ë° ë©”ì¸ìœ¼ë¡œ ê°€ëŠ” ë²„íŠ¼ -->
            <div class="bottom-container">
                <!-- ì‚­ì œ ë²„íŠ¼ -->
<!--                <button class="btn btn-delete mb-2" th:onclick="'deleteDiary(' + ${diaryResponse.diaryId} + ')'">ì‚­ì œ</button>-->

                <!-- ì‚­ì œ ë²„íŠ¼ (í¼ìœ¼ë¡œ ì‚­ì œ ìš”ì²­ ì „ì†¡) -->
                <form th:action="@{/diaries/{id}(id=${diaryResponse.diaryId})}" method="post" class="mb-2">
                    <!-- ìŠ¤í”„ë§ì—ì„œ DELETE ìš”ì²­ìœ¼ë¡œ ë³€í™˜í•´ ì£¼ëŠ” hidden í•„ë“œ -->
                    <input type="hidden" name="_method" value="delete"/>
                    <button type="submit" class="btn btn-delete">ì‚­ì œ</button>
                </form>

                <!-- ë©”ì¸ìœ¼ë¡œ ë²„íŠ¼ -->
                <button class="btn btn-main" onclick="window.location.href='/diaries/main'">ë©”ì¸ìœ¼ë¡œ</button>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>
